<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zhuani21.review.dao.CodeTypeDao" >
	
	<select id="selectCodeTypeList" resultType="com.zhuani21.review.bean.CodeType">
		select id,code,name from code_type
	</select>
  	<select id="selectCodeTypeById" resultType="com.zhuani21.review.bean.CodeType" parameterType="int">
		<if test="id!=null">
			select id,code,name from code_type where id=#{id }
		</if>
  	</select>
  	<insert id="insertCodeType" parameterType="com.zhuani21.review.bean.CodeType">
  		<selectKey keyColumn="id" resultType="int" order="AFTER">
  			select last_insert_id()
  		</selectKey>
  		insert into code_type (code,name)
  				values (#{code},#{name})
  	</insert>
</mapper>